# Pi-hole values for use with DHCP Helper
#
# This configuration runs Pi-hole WITHOUT hostNetwork, using a separate
# DHCP helper container to handle Layer 2 broadcast requirements.
#
# See README.md in this directory for full deployment instructions.

# Pi-hole runs with normal pod networking (no hostNetwork required)
hostNetwork: false

# Persist DHCP leases and configuration
persistentVolumeClaim:
  enabled: true
  size: "500Mi"

# Enable DHCP service (ClusterIP by default)
# After deployment, get the ClusterIP and configure it in dhcphelper.yaml
serviceDhcp:
  enabled: true
  type: ClusterIP

# DNS service configuration
# Adjust type based on your setup (LoadBalancer for MetalLB, NodePort, etc.)
serviceDns:
  type: LoadBalancer
  # Uncomment and adjust for MetalLB
  # annotations:
  #   metallb.universe.tf/loadBalancerIPs: 192.168.1.10

# Web admin interface
serviceWeb:
  type: ClusterIP

# Optional: Custom DNS entries
dnsmasq:
  customDnsEntries:
    - address=/gateway.lan/192.168.1.1
    - address=/pihole.lan/192.168.1.10

# Optional: Resource limits
resources:
  limits:
    cpu: 200m
    memory: 256Mi
  requests:
    cpu: 100m
    memory: 128Mi
